
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://prefecthq.github.io/prefect-dbt/cloud/runs/">
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.0, mkdocs-material-8.3.0">
    
    
      
        <title>Runs - prefect-dbt</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.fd896c8a.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
          
          
          <meta name="theme-color" content="#2094f3">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CSource+Code+Pro:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"Source Code Pro"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="blue" data-md-color-accent="blue">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#prefect_dbt.cloud.runs" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="prefect-dbt" class="md-header__button md-logo" aria-label="prefect-dbt" data-md-component="logo">
      
  <img src="../../img/prefect-logo-white.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            prefect-dbt
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Runs
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/prefecthq/prefect-dbt" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="prefect-dbt" class="md-nav__button md-logo" aria-label="prefect-dbt" data-md-component="logo">
      
  <img src="../../img/prefect-logo-white.png" alt="logo">

    </a>
    prefect-dbt
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/prefecthq/prefect-dbt" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Cloud
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Cloud" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Cloud
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../credentials/" class="md-nav__link">
        Credentials
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../jobs/" class="md-nav__link">
        Jobs
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Runs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Runs
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prefect_dbt.cloud.runs.DbtCloudGetRunArtifactFailed" class="md-nav__link">
    DbtCloudGetRunArtifactFailed
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect_dbt.cloud.runs.DbtCloudGetRunFailed" class="md-nav__link">
    DbtCloudGetRunFailed
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect_dbt.cloud.runs.DbtCloudJobRunCancelled" class="md-nav__link">
    DbtCloudJobRunCancelled
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect_dbt.cloud.runs.DbtCloudJobRunFailed" class="md-nav__link">
    DbtCloudJobRunFailed
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect_dbt.cloud.runs.DbtCloudJobRunStatus" class="md-nav__link">
    DbtCloudJobRunStatus
  </a>
  
    <nav class="md-nav" aria-label="DbtCloudJobRunStatus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prefect_dbt.cloud.runs.DbtCloudJobRunStatus.is_terminal_status_code" class="md-nav__link">
    is_terminal_status_code()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect_dbt.cloud.runs.DbtCloudJobRunTimedOut" class="md-nav__link">
    DbtCloudJobRunTimedOut
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect_dbt.cloud.runs.DbtCloudListRunArtifactsFailed" class="md-nav__link">
    DbtCloudListRunArtifactsFailed
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect_dbt.cloud.runs.get_dbt_cloud_run_artifact" class="md-nav__link">
    get_dbt_cloud_run_artifact()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect_dbt.cloud.runs.get_dbt_cloud_run_info" class="md-nav__link">
    get_dbt_cloud_run_info()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect_dbt.cloud.runs.list_dbt_cloud_run_artifacts" class="md-nav__link">
    list_dbt_cloud_run_artifacts()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect_dbt.cloud.runs.wait_for_dbt_cloud_job_run" class="md-nav__link">
    wait_for_dbt_cloud_job_run()
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../clients/" class="md-nav__link">
        Clients
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../models/" class="md-nav__link">
        Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          CLI
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="CLI" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          CLI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/credentials/" class="md-nav__link">
        Credentials
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/commands/" class="md-nav__link">
        Commands
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_3">
          Configs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Configs" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Configs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/configs/base/" class="md-nav__link">
        Base
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/configs/bigquery/" class="md-nav__link">
        BigQuery
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/configs/postgres/" class="md-nav__link">
        Postgres
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/configs/snowflake/" class="md-nav__link">
        Snowflake
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prefect_dbt.cloud.runs.DbtCloudGetRunArtifactFailed" class="md-nav__link">
    DbtCloudGetRunArtifactFailed
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect_dbt.cloud.runs.DbtCloudGetRunFailed" class="md-nav__link">
    DbtCloudGetRunFailed
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect_dbt.cloud.runs.DbtCloudJobRunCancelled" class="md-nav__link">
    DbtCloudJobRunCancelled
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect_dbt.cloud.runs.DbtCloudJobRunFailed" class="md-nav__link">
    DbtCloudJobRunFailed
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect_dbt.cloud.runs.DbtCloudJobRunStatus" class="md-nav__link">
    DbtCloudJobRunStatus
  </a>
  
    <nav class="md-nav" aria-label="DbtCloudJobRunStatus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prefect_dbt.cloud.runs.DbtCloudJobRunStatus.is_terminal_status_code" class="md-nav__link">
    is_terminal_status_code()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect_dbt.cloud.runs.DbtCloudJobRunTimedOut" class="md-nav__link">
    DbtCloudJobRunTimedOut
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect_dbt.cloud.runs.DbtCloudListRunArtifactsFailed" class="md-nav__link">
    DbtCloudListRunArtifactsFailed
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect_dbt.cloud.runs.get_dbt_cloud_run_artifact" class="md-nav__link">
    get_dbt_cloud_run_artifact()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect_dbt.cloud.runs.get_dbt_cloud_run_info" class="md-nav__link">
    get_dbt_cloud_run_info()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect_dbt.cloud.runs.list_dbt_cloud_run_artifacts" class="md-nav__link">
    list_dbt_cloud_run_artifacts()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect_dbt.cloud.runs.wait_for_dbt_cloud_job_run" class="md-nav__link">
    wait_for_dbt_cloud_job_run()
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/edit/main/docs/cloud/runs.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<div class="doc doc-object doc-module">



<h1 id="prefect_dbt.cloud.runs" class="doc doc-heading">
          <code>prefect_dbt.cloud.runs</code>


</h1>

  <div class="doc doc-contents first">
  
      <p>Module containing tasks and flows for interacting with dbt Cloud job runs</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="prefect_dbt.cloud.runs.DbtCloudGetRunArtifactFailed" class="doc doc-heading">
        <code>DbtCloudGetRunArtifactFailed</code>


</h2>


  <div class="doc doc-contents ">

  
      <p>Raised when unable to get a dbt Cloud run artifact</p>


        <details class="quote">
          <summary>Source code in <code>prefect_dbt/cloud/runs.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DbtCloudGetRunArtifactFailed</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Raised when unable to get a dbt Cloud run artifact&quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
        </details>

  </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="prefect_dbt.cloud.runs.DbtCloudGetRunFailed" class="doc doc-heading">
        <code>DbtCloudGetRunFailed</code>


</h2>


  <div class="doc doc-contents ">

  
      <p>Raised when unable to retrieve dbt Cloud run</p>


        <details class="quote">
          <summary>Source code in <code>prefect_dbt/cloud/runs.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DbtCloudGetRunFailed</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Raised when unable to retrieve dbt Cloud run&quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
        </details>

  </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="prefect_dbt.cloud.runs.DbtCloudJobRunCancelled" class="doc doc-heading">
        <code>DbtCloudJobRunCancelled</code>


</h2>


  <div class="doc doc-contents ">

  
      <p>Raised when a triggered job run is cancelled</p>


        <details class="quote">
          <summary>Source code in <code>prefect_dbt/cloud/runs.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DbtCloudJobRunCancelled</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Raised when a triggered job run is cancelled&quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
        </details>

  </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="prefect_dbt.cloud.runs.DbtCloudJobRunFailed" class="doc doc-heading">
        <code>DbtCloudJobRunFailed</code>


</h2>


  <div class="doc doc-contents ">

  
      <p>Raised when a triggered job run fails</p>


        <details class="quote">
          <summary>Source code in <code>prefect_dbt/cloud/runs.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DbtCloudJobRunFailed</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Raised when a triggered job run fails&quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
        </details>

  </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="prefect_dbt.cloud.runs.DbtCloudJobRunStatus" class="doc doc-heading">
        <code>DbtCloudJobRunStatus</code>


</h2>


  <div class="doc doc-contents ">

  
      <p>dbt Cloud Job statuses.</p>


        <details class="quote">
          <summary>Source code in <code>prefect_dbt/cloud/runs.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DbtCloudJobRunStatus</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;dbt Cloud Job statuses.&quot;&quot;&quot;</span>

    <span class="n">QUEUED</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">STARTING</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">RUNNING</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">SUCCESS</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">FAILED</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="n">CANCELLED</span> <span class="o">=</span> <span class="mi">30</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">is_terminal_status_code</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">status_code</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns True if a status code is terminal for a job run.</span>
<span class="sd">        Returns False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">status_code</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">cls</span><span class="o">.</span><span class="n">SUCCESS</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="n">FAILED</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="n">CANCELLED</span><span class="o">.</span><span class="n">value</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">









<div class="doc doc-object doc-function">



<h3 id="prefect_dbt.cloud.runs.DbtCloudJobRunStatus.is_terminal_status_code" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_terminal_status_code</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Returns True if a status code is terminal for a job run.
Returns False otherwise.</p>

      <details class="quote">
        <summary>Source code in <code>prefect_dbt/cloud/runs.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">is_terminal_status_code</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">status_code</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns True if a status code is terminal for a job run.</span>
<span class="sd">    Returns False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">status_code</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">cls</span><span class="o">.</span><span class="n">SUCCESS</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="n">FAILED</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="n">CANCELLED</span><span class="o">.</span><span class="n">value</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="prefect_dbt.cloud.runs.DbtCloudJobRunTimedOut" class="doc doc-heading">
        <code>DbtCloudJobRunTimedOut</code>


</h2>


  <div class="doc doc-contents ">

  
      <p>Raised when a triggered job run does not complete in the configured max
wait seconds</p>


        <details class="quote">
          <summary>Source code in <code>prefect_dbt/cloud/runs.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DbtCloudJobRunTimedOut</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Raised when a triggered job run does not complete in the configured max</span>
<span class="sd">    wait seconds</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
        </details>

  </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="prefect_dbt.cloud.runs.DbtCloudListRunArtifactsFailed" class="doc doc-heading">
        <code>DbtCloudListRunArtifactsFailed</code>


</h2>


  <div class="doc doc-contents ">

  
      <p>Raised when unable to list dbt Cloud run artifacts</p>


        <details class="quote">
          <summary>Source code in <code>prefect_dbt/cloud/runs.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DbtCloudListRunArtifactsFailed</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Raised when unable to list dbt Cloud run artifacts&quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
        </details>

  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="prefect_dbt.cloud.runs.get_dbt_cloud_run_artifact" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_dbt_cloud_run_artifact</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


  <div class="doc doc-contents ">
  
      <p>A task to get an artifact generated for a completed run. The requested artifact
is saved to a file in the current working directory.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>dbt_cloud_credentials</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="prefect_dbt.cloud.credentials.DbtCloudCredentials" href="../credentials/#prefect_dbt.cloud.credentials.DbtCloudCredentials">DbtCloudCredentials</a></code>
          </td>
          <td><p>Credentials for authenticating with dbt Cloud.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>run_id</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>The ID of the run to list run artifacts for.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>path</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>The relative path to the run artifact (e.g. manifest.json, catalog.json,
run_results.json)</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>step</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[int]</code>
          </td>
          <td><p>The index of the step in the run to query for artifacts. The
first step in the run has the index 1. If the step parameter is
omitted, then this method will return the artifacts compiled
for the last step in the run.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Union">Union</span>[<span title="typing.Dict">Dict</span>, str]</code>
          </td>
          <td><p>The contents of the requested manifest. Returns a <code>Dict</code> if the
requested artifact is a JSON file and a <code>str</code> otherwise.</p></td>
        </tr>
    </tbody>
  </table>

<p><strong>Examples:</strong></p>
    <p>Get an artifact of a dbt Cloud job run:
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>

<span class="kn">from</span> <span class="nn">prefect_dbt.cloud</span> <span class="kn">import</span> <span class="n">DbtCloudCredentials</span>
<span class="kn">from</span> <span class="nn">prefect_dbt.cloud.runs</span> <span class="kn">import</span> <span class="n">get_dbt_cloud_run_artifact</span>

<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">get_artifact_flow</span><span class="p">():</span>
    <span class="n">credentials</span> <span class="o">=</span> <span class="n">DbtCloudCredentials</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="s2">&quot;my_api_key&quot;</span><span class="p">,</span> <span class="n">account_id</span><span class="o">=</span><span class="mi">123456789</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">get_dbt_cloud_run_artifact</span><span class="p">(</span>
        <span class="n">dbt_cloud_credentials</span><span class="o">=</span><span class="n">credentials</span><span class="p">,</span>
        <span class="n">run_id</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span>
        <span class="n">path</span><span class="o">=</span><span class="s2">&quot;manifest.json&quot;</span>
    <span class="p">)</span>

<span class="n">get_artifact_flow</span><span class="p">()</span>
</code></pre></div></p>
<p>Get an artifact of a dbt Cloud job run and write it to a file:
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">json</span>

<span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>

<span class="kn">from</span> <span class="nn">prefect_dbt.cloud</span> <span class="kn">import</span> <span class="n">DbtCloudCredentials</span>
<span class="kn">from</span> <span class="nn">prefect_dbt.cloud.jobs</span> <span class="kn">import</span> <span class="n">get_dbt_cloud_run_artifact</span>

<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">get_artifact_flow</span><span class="p">():</span>
    <span class="n">credentials</span> <span class="o">=</span> <span class="n">DbtCloudCredentials</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="s2">&quot;my_api_key&quot;</span><span class="p">,</span> <span class="n">account_id</span><span class="o">=</span><span class="mi">123456789</span><span class="p">)</span>

    <span class="n">get_run_artifact_result</span> <span class="o">=</span> <span class="n">get_dbt_cloud_run_artifact</span><span class="p">(</span>
        <span class="n">dbt_cloud_credentials</span><span class="o">=</span><span class="n">credentials</span><span class="p">,</span>
        <span class="n">run_id</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span>
        <span class="n">path</span><span class="o">=</span><span class="s2">&quot;manifest.json&quot;</span>
    <span class="p">)</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;manifest.json&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
        <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">get_run_artifact_result</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>

<span class="n">get_artifact_flow</span><span class="p">()</span>
</code></pre></div></p>

      <details class="quote">
        <summary>Source code in <code>prefect_dbt/cloud/runs.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@task</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Get dbt Cloud job artifact&quot;</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Fetches an artifact from a completed run.&quot;</span><span class="p">,</span>
    <span class="n">retries</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">retry_delay_seconds</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">get_dbt_cloud_run_artifact</span><span class="p">(</span>
    <span class="n">dbt_cloud_credentials</span><span class="p">:</span> <span class="n">DbtCloudCredentials</span><span class="p">,</span>
    <span class="n">run_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">step</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">Dict</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A task to get an artifact generated for a completed run. The requested artifact</span>
<span class="sd">    is saved to a file in the current working directory.</span>

<span class="sd">    Args:</span>
<span class="sd">        dbt_cloud_credentials: Credentials for authenticating with dbt Cloud.</span>
<span class="sd">        run_id: The ID of the run to list run artifacts for.</span>
<span class="sd">        path: The relative path to the run artifact (e.g. manifest.json, catalog.json,</span>
<span class="sd">            run_results.json)</span>
<span class="sd">        step: The index of the step in the run to query for artifacts. The</span>
<span class="sd">            first step in the run has the index 1. If the step parameter is</span>
<span class="sd">            omitted, then this method will return the artifacts compiled</span>
<span class="sd">            for the last step in the run.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The contents of the requested manifest. Returns a `Dict` if the</span>
<span class="sd">            requested artifact is a JSON file and a `str` otherwise.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Get an artifact of a dbt Cloud job run:</span>
<span class="sd">        ```python</span>
<span class="sd">        from prefect import flow</span>

<span class="sd">        from prefect_dbt.cloud import DbtCloudCredentials</span>
<span class="sd">        from prefect_dbt.cloud.runs import get_dbt_cloud_run_artifact</span>

<span class="sd">        @flow</span>
<span class="sd">        def get_artifact_flow():</span>
<span class="sd">            credentials = DbtCloudCredentials(api_key=&quot;my_api_key&quot;, account_id=123456789)</span>

<span class="sd">            return get_dbt_cloud_run_artifact(</span>
<span class="sd">                dbt_cloud_credentials=credentials,</span>
<span class="sd">                run_id=42,</span>
<span class="sd">                path=&quot;manifest.json&quot;</span>
<span class="sd">            )</span>

<span class="sd">        get_artifact_flow()</span>
<span class="sd">        ```</span>

<span class="sd">        Get an artifact of a dbt Cloud job run and write it to a file:</span>
<span class="sd">        ```python</span>
<span class="sd">        import json</span>

<span class="sd">        from prefect import flow</span>

<span class="sd">        from prefect_dbt.cloud import DbtCloudCredentials</span>
<span class="sd">        from prefect_dbt.cloud.jobs import get_dbt_cloud_run_artifact</span>

<span class="sd">        @flow</span>
<span class="sd">        def get_artifact_flow():</span>
<span class="sd">            credentials = DbtCloudCredentials(api_key=&quot;my_api_key&quot;, account_id=123456789)</span>

<span class="sd">            get_run_artifact_result = get_dbt_cloud_run_artifact(</span>
<span class="sd">                dbt_cloud_credentials=credentials,</span>
<span class="sd">                run_id=42,</span>
<span class="sd">                path=&quot;manifest.json&quot;</span>
<span class="sd">            )</span>

<span class="sd">            with open(&quot;manifest.json&quot;, &quot;w&quot;) as file:</span>
<span class="sd">                json.dump(get_run_artifact_result, file)</span>

<span class="sd">        get_artifact_flow()</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">async</span> <span class="k">with</span> <span class="n">dbt_cloud_credentials</span><span class="o">.</span><span class="n">get_administrative_client</span><span class="p">()</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_run_artifact</span><span class="p">(</span>
                <span class="n">run_id</span><span class="o">=</span><span class="n">run_id</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="n">step</span>
            <span class="p">)</span>
    <span class="k">except</span> <span class="n">HTTPStatusError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">DbtCloudGetRunArtifactFailed</span><span class="p">(</span><span class="n">extract_user_message</span><span class="p">(</span><span class="n">ex</span><span class="p">))</span> <span class="kn">from</span> <span class="nn">ex</span>

    <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.json&quot;</span><span class="p">):</span>
        <span class="n">artifact_contents</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">artifact_contents</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span>

    <span class="k">return</span> <span class="n">artifact_contents</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h2 id="prefect_dbt.cloud.runs.get_dbt_cloud_run_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_dbt_cloud_run_info</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


  <div class="doc doc-contents ">
  
      <p>A task to retrieve information about a dbt Cloud job run.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>dbt_cloud_credentials</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="prefect_dbt.cloud.credentials.DbtCloudCredentials" href="../credentials/#prefect_dbt.cloud.credentials.DbtCloudCredentials">DbtCloudCredentials</a></code>
          </td>
          <td><p>Credentials for authenticating with dbt Cloud.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>run_id</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>The ID of the job to trigger.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Dict">Dict</span></code>
          </td>
          <td><p>The run data returned by the dbt Cloud administrative API.</p></td>
        </tr>
    </tbody>
  </table>

<details class="example">
  <summary>Example</summary>
  <p>Get status of a dbt Cloud job run:
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>

<span class="kn">from</span> <span class="nn">prefect_dbt.cloud</span> <span class="kn">import</span> <span class="n">DbtCloudCredentials</span>
<span class="kn">from</span> <span class="nn">prefect_dbt.cloud.jobs</span> <span class="kn">import</span> <span class="n">get_run</span>

<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">get_run_flow</span><span class="p">():</span>
    <span class="n">credentials</span> <span class="o">=</span> <span class="n">DbtCloudCredentials</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="s2">&quot;my_api_key&quot;</span><span class="p">,</span> <span class="n">account_id</span><span class="o">=</span><span class="mi">123456789</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">get_run</span><span class="p">(</span>
        <span class="n">dbt_cloud_credentials</span><span class="o">=</span><span class="n">credentials</span><span class="p">,</span>
        <span class="n">run_id</span><span class="o">=</span><span class="mi">42</span>
    <span class="p">)</span>

<span class="n">get_run_flow</span><span class="p">()</span>
</code></pre></div></p>
</details>
      <details class="quote">
        <summary>Source code in <code>prefect_dbt/cloud/runs.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@task</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Get dbt Cloud job run details&quot;</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Retrieves details of a dbt Cloud job run &quot;</span>
    <span class="s2">&quot;for the run with the given run_id.&quot;</span><span class="p">,</span>
    <span class="n">retries</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">retry_delay_seconds</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">get_dbt_cloud_run_info</span><span class="p">(</span>
    <span class="n">dbt_cloud_credentials</span><span class="p">:</span> <span class="n">DbtCloudCredentials</span><span class="p">,</span> <span class="n">run_id</span><span class="p">:</span> <span class="nb">int</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A task to retrieve information about a dbt Cloud job run.</span>

<span class="sd">    Args:</span>
<span class="sd">        dbt_cloud_credentials: Credentials for authenticating with dbt Cloud.</span>
<span class="sd">        run_id: The ID of the job to trigger.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The run data returned by the dbt Cloud administrative API.</span>

<span class="sd">    Example:</span>
<span class="sd">        Get status of a dbt Cloud job run:</span>
<span class="sd">        ```python</span>
<span class="sd">        from prefect import flow</span>

<span class="sd">        from prefect_dbt.cloud import DbtCloudCredentials</span>
<span class="sd">        from prefect_dbt.cloud.jobs import get_run</span>

<span class="sd">        @flow</span>
<span class="sd">        def get_run_flow():</span>
<span class="sd">            credentials = DbtCloudCredentials(api_key=&quot;my_api_key&quot;, account_id=123456789)</span>

<span class="sd">            return get_run(</span>
<span class="sd">                dbt_cloud_credentials=credentials,</span>
<span class="sd">                run_id=42</span>
<span class="sd">            )</span>

<span class="sd">        get_run_flow()</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">async</span> <span class="k">with</span> <span class="n">dbt_cloud_credentials</span><span class="o">.</span><span class="n">get_administrative_client</span><span class="p">()</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_run</span><span class="p">(</span><span class="n">run_id</span><span class="o">=</span><span class="n">run_id</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">HTTPStatusError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">DbtCloudGetRunFailed</span><span class="p">(</span><span class="n">extract_user_message</span><span class="p">(</span><span class="n">ex</span><span class="p">))</span> <span class="kn">from</span> <span class="nn">ex</span>
    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h2 id="prefect_dbt.cloud.runs.list_dbt_cloud_run_artifacts" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_dbt_cloud_run_artifacts</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


  <div class="doc doc-contents ">
  
      <p>A task to list the artifact files generated for a completed run.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>dbt_cloud_credentials</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="prefect_dbt.cloud.credentials.DbtCloudCredentials" href="../credentials/#prefect_dbt.cloud.credentials.DbtCloudCredentials">DbtCloudCredentials</a></code>
          </td>
          <td><p>Credentials for authenticating with dbt Cloud.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>run_id</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>The ID of the run to list run artifacts for.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>step</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[int]</code>
          </td>
          <td><p>The index of the step in the run to query for artifacts. The
first step in the run has the index 1. If the step parameter is
omitted, then this method will return the artifacts compiled
for the last step in the run.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.List">List</span>[str]</code>
          </td>
          <td><p>A list of paths to artifact files that can be used to retrieve the generated artifacts.</p></td>
        </tr>
    </tbody>
  </table>

<details class="example">
  <summary>Example</summary>
  <p>List artifacts of a dbt Cloud job run:
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>

<span class="kn">from</span> <span class="nn">prefect_dbt.cloud</span> <span class="kn">import</span> <span class="n">DbtCloudCredentials</span>
<span class="kn">from</span> <span class="nn">prefect_dbt.cloud.jobs</span> <span class="kn">import</span> <span class="n">list_dbt_cloud_run_artifacts</span>

<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">list_artifacts_flow</span><span class="p">():</span>
    <span class="n">credentials</span> <span class="o">=</span> <span class="n">DbtCloudCredentials</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="s2">&quot;my_api_key&quot;</span><span class="p">,</span> <span class="n">account_id</span><span class="o">=</span><span class="mi">123456789</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">list_dbt_cloud_run_artifacts</span><span class="p">(</span>
        <span class="n">dbt_cloud_credentials</span><span class="o">=</span><span class="n">credentials</span><span class="p">,</span>
        <span class="n">run_id</span><span class="o">=</span><span class="mi">42</span>
    <span class="p">)</span>

<span class="n">list_artifacts_flow</span><span class="p">()</span>
</code></pre></div></p>
</details>
      <details class="quote">
        <summary>Source code in <code>prefect_dbt/cloud/runs.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@task</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;List dbt Cloud job artifacts&quot;</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Fetches a list of artifact files generated for a completed run.&quot;</span><span class="p">,</span>
    <span class="n">retries</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">retry_delay_seconds</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">list_dbt_cloud_run_artifacts</span><span class="p">(</span>
    <span class="n">dbt_cloud_credentials</span><span class="p">:</span> <span class="n">DbtCloudCredentials</span><span class="p">,</span> <span class="n">run_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A task to list the artifact files generated for a completed run.</span>

<span class="sd">    Args:</span>
<span class="sd">        dbt_cloud_credentials: Credentials for authenticating with dbt Cloud.</span>
<span class="sd">        run_id: The ID of the run to list run artifacts for.</span>
<span class="sd">        step: The index of the step in the run to query for artifacts. The</span>
<span class="sd">            first step in the run has the index 1. If the step parameter is</span>
<span class="sd">            omitted, then this method will return the artifacts compiled</span>
<span class="sd">            for the last step in the run.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of paths to artifact files that can be used to retrieve the generated artifacts.</span>

<span class="sd">    Example:</span>
<span class="sd">        List artifacts of a dbt Cloud job run:</span>
<span class="sd">        ```python</span>
<span class="sd">        from prefect import flow</span>

<span class="sd">        from prefect_dbt.cloud import DbtCloudCredentials</span>
<span class="sd">        from prefect_dbt.cloud.jobs import list_dbt_cloud_run_artifacts</span>

<span class="sd">        @flow</span>
<span class="sd">        def list_artifacts_flow():</span>
<span class="sd">            credentials = DbtCloudCredentials(api_key=&quot;my_api_key&quot;, account_id=123456789)</span>

<span class="sd">            return list_dbt_cloud_run_artifacts(</span>
<span class="sd">                dbt_cloud_credentials=credentials,</span>
<span class="sd">                run_id=42</span>
<span class="sd">            )</span>

<span class="sd">        list_artifacts_flow()</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">async</span> <span class="k">with</span> <span class="n">dbt_cloud_credentials</span><span class="o">.</span><span class="n">get_administrative_client</span><span class="p">()</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">list_run_artifacts</span><span class="p">(</span><span class="n">run_id</span><span class="o">=</span><span class="n">run_id</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">HTTPStatusError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">DbtCloudListRunArtifactsFailed</span><span class="p">(</span><span class="n">extract_user_message</span><span class="p">(</span><span class="n">ex</span><span class="p">))</span> <span class="kn">from</span> <span class="nn">ex</span>
    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h2 id="prefect_dbt.cloud.runs.wait_for_dbt_cloud_job_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">wait_for_dbt_cloud_job_run</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


  <div class="doc doc-contents ">
  
      <p>Waits for the given dbt Cloud job run to finish running.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>run_id</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>The ID of the run to wait for.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>dbt_cloud_credentials</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="prefect_dbt.cloud.credentials.DbtCloudCredentials" href="../credentials/#prefect_dbt.cloud.credentials.DbtCloudCredentials">DbtCloudCredentials</a></code>
          </td>
          <td><p>Credentials for authenticating with dbt Cloud.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>max_wait_seconds</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>Maximum number of seconds to wait for job to complete</p></td>
          <td>
                <code>900</code>
          </td>
        </tr>
        <tr>
          <td><code>poll_frequency_seconds</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>Number of seconds to wait in between checks for
run completion.</p></td>
          <td>
                <code>10</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="prefect_dbt.cloud.runs.DbtCloudJobRunTimedOut" href="#prefect_dbt.cloud.runs.DbtCloudJobRunTimedOut">DbtCloudJobRunTimedOut</a></code>
          </td>
          <td><p>When the elapsed wait time exceeds <code>max_wait_seconds</code>.</p></td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>run_status</code></td>          <td>
                <code><a class="autorefs autorefs-internal" title="prefect_dbt.cloud.runs.DbtCloudJobRunStatus" href="#prefect_dbt.cloud.runs.DbtCloudJobRunStatus">DbtCloudJobRunStatus</a></code>
          </td>
          <td><p>An enum representing the final dbt Cloud job run status</p></td>
        </tr>
        <tr>
<td><code>run_data</code></td>          <td>
                <code><span title="typing.Dict">Dict</span></code>
          </td>
          <td><p>A dictionary containing information about the run after completion.</p></td>
        </tr>
    </tbody>
  </table>
      

      <details class="quote">
        <summary>Source code in <code>prefect_dbt/cloud/runs.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@flow</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Wait for dbt Cloud job run&quot;</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Waits for a dbt Cloud job run to finish running.&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">wait_for_dbt_cloud_job_run</span><span class="p">(</span>
    <span class="n">run_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">dbt_cloud_credentials</span><span class="p">:</span> <span class="n">DbtCloudCredentials</span><span class="p">,</span>
    <span class="n">max_wait_seconds</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">900</span><span class="p">,</span>
    <span class="n">poll_frequency_seconds</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">DbtCloudJobRunStatus</span><span class="p">,</span> <span class="n">Dict</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Waits for the given dbt Cloud job run to finish running.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_id: The ID of the run to wait for.</span>
<span class="sd">        dbt_cloud_credentials: Credentials for authenticating with dbt Cloud.</span>
<span class="sd">        max_wait_seconds: Maximum number of seconds to wait for job to complete</span>
<span class="sd">        poll_frequency_seconds: Number of seconds to wait in between checks for</span>
<span class="sd">            run completion.</span>

<span class="sd">    Raises:</span>
<span class="sd">        DbtCloudJobRunTimedOut: When the elapsed wait time exceeds `max_wait_seconds`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        run_status: An enum representing the final dbt Cloud job run status</span>
<span class="sd">        run_data: A dictionary containing information about the run after completion.</span>


<span class="sd">    Example:</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span> <span class="o">=</span> <span class="n">get_run_logger</span><span class="p">()</span>
    <span class="n">seconds_waited_for_run_completion</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">wait_for</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">while</span> <span class="n">seconds_waited_for_run_completion</span> <span class="o">&lt;=</span> <span class="n">max_wait_seconds</span><span class="p">:</span>
        <span class="n">run_data_future</span> <span class="o">=</span> <span class="k">await</span> <span class="n">get_dbt_cloud_run_info</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span>
            <span class="n">dbt_cloud_credentials</span><span class="o">=</span><span class="n">dbt_cloud_credentials</span><span class="p">,</span>
            <span class="n">run_id</span><span class="o">=</span><span class="n">run_id</span><span class="p">,</span>
            <span class="n">wait_for</span><span class="o">=</span><span class="n">wait_for</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">run_data</span> <span class="o">=</span> <span class="k">await</span> <span class="n">run_data_future</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
        <span class="n">run_status_code</span> <span class="o">=</span> <span class="n">run_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;status&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">DbtCloudJobRunStatus</span><span class="o">.</span><span class="n">is_terminal_status_code</span><span class="p">(</span><span class="n">run_status_code</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">DbtCloudJobRunStatus</span><span class="p">(</span><span class="n">run_status_code</span><span class="p">),</span> <span class="n">run_data</span>

        <span class="n">wait_for</span> <span class="o">=</span> <span class="p">[</span><span class="n">run_data_future</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;dbt Cloud job run with ID </span><span class="si">%i</span><span class="s2"> has status </span><span class="si">%s</span><span class="s2">. Waiting for </span><span class="si">%i</span><span class="s2"> seconds.&quot;</span><span class="p">,</span>
            <span class="n">run_id</span><span class="p">,</span>
            <span class="n">DbtCloudJobRunStatus</span><span class="p">(</span><span class="n">run_status_code</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">poll_frequency_seconds</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">poll_frequency_seconds</span><span class="p">)</span>
        <span class="n">seconds_waited_for_run_completion</span> <span class="o">+=</span> <span class="n">poll_frequency_seconds</span>

    <span class="k">raise</span> <span class="n">DbtCloudJobRunTimedOut</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Max wait time of </span><span class="si">{</span><span class="n">max_wait_seconds</span><span class="si">}</span><span class="s2"> seconds exceeded while waiting &quot;</span>
        <span class="s2">&quot;for job run with ID </span><span class="si">{run_id}</span><span class="s2">&quot;</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../jobs/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Jobs" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Jobs
            </div>
          </div>
        </a>
      
      
        
        <a href="../clients/" class="md-footer__link md-footer__link--next" aria-label="Next: Clients" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Clients
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.b028fd86.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.0f659f14.min.js"></script>
      
    
  </body>
</html>